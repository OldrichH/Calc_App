@{
    Calculator c = new Calculator();
    var history = ViewBag.History;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model Calculator_App.Models.Calculator

<script src="~/js/script.js" asp-append-version="true" defer></script>

<div class="container mt-5">
    <div class="container-md row text-center">
        <div class="col-8" id="calcForm">
            <h1 class="mt-5">Calculator</h1>
            <form asp-action="Index" class="m-5" >
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="container mt-5" style="text-align: left;">
                    <div class="form-check">
                        <input class="form-check-input" asp-for="ReturnInteger" type="checkbox" value="@ViewBag.checkBox" Id="checkBox">
                        <label class="form-check-label" for="flexCheckDefault">
                            Vrátit celé číslo
                        </label>
                </div>                   
                </div>
                <div class="container mt-2"> 
                        <div class ="output">
                            <input data-previous data-expand asp-for="ValueA" class="previous-operand" value="" readonly />
                            <input data-operation-selected data-expand asp-for="Operation"  value="" class="previous-operand" readonly />
                            <input data-current data-expand asp-for="ValueB" class="current-operand" value="@ViewBag.Result" readonly />
                        </div>
                </div>
                
                <div class="container mt-5">
                    <div class="row mt-3">
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>1</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>2</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>3</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-primary" data-operation>+</button>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="row mt-3">
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>4</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>5</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>6</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-primary" data-operation>-</button>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="row mt-3">
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>7</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>8</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>9</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-primary" data-operation>*</button>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="row mt-3">
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>0</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-number>,</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-secondary" data-manage>C</button>
                        </div>
                        <div class="col-sm">
                            <button type="button" class="btn btn-primary" data-operation>/</button>
                        </div>
                    </div>
                </div>

                <div class="container">
                    <div class="row mt-4">
                        <div class="col">
                            <button data-submit type="submit" value="submit" class="btn btn-danger" >Spočítat</button>
                            
                        </div>
                    </div>
                </div>
                <span asp-validation-for="ValueA" class="text-danger"></span>
                <span  asp-validation-for="Operation" class="text-danger"></span>
                <span asp-validation-for="ValueB" class="text-danger"></span>
            </form>
            
        </div>
        <div class="col-4" id="history">
            <div class="container">
                <h1 class="mt-5 mb-3">History</h1>
                
                @foreach (Calculation item in history)
                {
                    <p>@item.ValueA @item.Operation @item.ValueB = @item.Result</p> @*datum: @item.Date.Time</p>*@
                }
                
            </div>
        </div>
        

    </div>
</div>